<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Console</title>
    <!-- <link rel="stylesheet" href="/css/Inventory_Css/InventoryAll.css"> -->
    <!-- <link rel="stylesheet" href="/css/Inventory_Css/Billing.css"> -->
    <link rel="stylesheet" href="/css/NavButtons.css">
    <link rel="stylesheet" href="/css/Library_Css/Library_Console.css">
    <link rel="stylesheet" href="/css/Library_Css/All_Libary.css">
    <link rel="stylesheet" href="/css/Library_Css/Library-form-control.css">
    <link rel="stylesheet" href="/css/Universal_Components/autoFill_student_details.css">

</head>

<body>
    <div id="loadingOverlayinventory" class="loading-overlay-inventory">
        <div class="loader2"></div>
    </div>

    <nav class="navbar">
        <div class="logo_item">
            <!-- <i class="bx bx-menu" id="sidebarOpen"></i> -->
            <img id="logo" src="" alt="Logo">
            <!-- <div class="user_name" id="user_name"></div> -->
        </div>

        <div class="navbar_center">
            <button onclick="window.location.href='/dashboard'"> <i class='bx' id="backButton"> <img
                        src="/images/back.png" alt="Previous Icon"></i></button>
            <button onclick="window.location.href='/dashboard'"><i class='bx' id="homeButton"> <img
                        src="/images/homeicon.png" alt="Dashboard Icon"></i></button>
            <button id="logoutButton"> <i class='bx' id="signoutButton"> <img src="/images/logout.png"
                        alt="Signout Icon"></i></button>
        </div>

        <div class="navbar_content">
            <!-- <i class="bi bi-grid"></i>
      <i class='bx bx-bell'></i> -->
        </div>
    </nav>span>
    </button>

    <div class="adm-head">
        <div class="button-container">
            <h2>Library Console</h2>
        </div>
    </div>

    <div class="cards-container">
        <div class="card">
            <a>
                <button id="bookVaultButton">
                    <div class="dotlottie-container">
                        <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                            type="module"></script>

                        <dotlottie-player src="https://lottie.host/447ebf8f-0a36-4f35-8c08-7459ef896dca/Yw65sJQaYM.json"
                            background="transparent" speed="1" style="width: 269px; height: 247px;" loop
                            autoplay></dotlottie-player>
                    </div>
                    <h3>Book Vault</h3>
                </button>
            </a>
        </div>

        <div class="card">
            <a>
                <button id="manageMemberButton">
                    <div class="dotlottie-container">
                        <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                            type="module"></script>

                        <dotlottie-player src="https://lottie.host/704c844e-b731-46e2-8c31-b24d8d427405/P6qMo1nlz5.json"
                            background="transparent" speed="1" style="width: 270px; height: 220px;" loop
                            autoplay></dotlottie-player>
                    </div>
                    <h3>Manage Member</h3>
                </button>
            </a>
        </div>

        <div class="card">
            <a>
                <button id="transactionTrackerButton">
                    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                        type="module"></script>

                    <dotlottie-player src="https://lottie.host/48862de0-8b44-4c46-8433-9e10ee667214/NVSBA2kUbM.json"
                        background="transparent" speed="0.8" style="width: 269px;
                        height: 240px;
                        margin-left: -39px;" loop autoplay></dotlottie-player>
                    <h3>Transaction Tracker</h3>
                </button>
            </a>
        </div>

        <div class="card">
            <a>
                <button id="openPenaltyProcessorOverlay">
                    <div class="dotlottie-container">
                        <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                            type="module"></script>

                        <dotlottie-player src="https://lottie.host/8ad1333b-3920-4d20-97d7-28f35867934f/gBcLgACTfn.json"
                            background="transparent" speed="1" style="width: 270px; height: 248px;" loop
                            autoplay></dotlottie-player>

                    </div>
                    <h3>Penalty Processor</h3>
                </button>
            </a>
        </div>

        <div class="card">
            <a>
                <button id="reportButton">
                    <div class="dotlottie-container">
                        <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                            type="module"></script>

                        <dotlottie-player src="https://lottie.host/ef533a2f-dd72-4975-9c7f-43415af3cd2d/8xsYamti04.json"
                            background="transparent" speed="1" style="width: 269px;
                            height: 192px;
                            margin-bottom: 28px;" loop autoplay></dotlottie-player>

                    </div>
                    <h3>Report</h3>
                </button>
            </a>
        </div>

    </div>

    <!-- Overlay for selecting Add or Search Book -->
    <div id="bookVaultOverlay" class="overlay">
        <div class="overlay-content-inner">
            <h2>Book Vault</h2>
            <button id="closeBookVaultOverlay" class="close-button">&times;</button>
            <div class="button-container">
                <div class="bookvaltcard">
                    <span id="addBookButton">
                        <img src="/images/searchBookLib.gif" alt="">
                        Add Book
                    </span>
                </div>
                <div class="bookvaltcard">
                    <span id="searchBookButton">

                        <img src="/images/addBookLib.gif" alt="">
                        Search Book
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay for Add Book -->
    <div id="addBookOverlay" class="overlay">
        <div class="overlay-content">
            <button id="closeAddBookOverlay" class="close-button">&times;</button>

            <div class="overlay-inner">
                <div class="left-side">
                    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                        type="module"></script>

                    <dotlottie-player src="https://lottie.host/f1ef15f0-e5ab-415a-8f01-9cfdf4c36034/TwCFf8dsdN.json"
                        background="transparent" speed="1" style="width: 300px; height: 300px;" loop
                        autoplay></dotlottie-player>
                </div>
                <div class="right-side">
                    <h2>Add Book</h2>
                    <form id="addBookForm">
                        <div class="form-row">
                            <div class="form-group">
                                <input type="text" class="form-control" id="bookID" required placeholder=" ">
                                <span class="form-control-placeholder">Book ID</span>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="bookName" required placeholder=" ">
                                <span class="form-control-placeholder">Book Name</span>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <input type="text" class="form-control" id="authorName" required placeholder=" ">
                                <span class="form-control-placeholder">Author Name</span>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="bookPublication" required placeholder=" ">
                                <span class="form-control-placeholder">Book Publication</span>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <input type="number" class="form-control" id="bookPrice" required placeholder=" ">
                                <span class="form-control-placeholder">Book Price</span>
                            </div>
                            <div class="form-group">
                                <input type="number" class="form-control" id="orderedQuantity" required placeholder=" ">
                                <span class="form-control-placeholder">Ordered Quantity</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <input class="form-control" id="description" required placeholder=" "
                                style="height: 80px;"></input>
                            <span class="form-control-placeholder">Description</span>
                        </div>

                        <!-- <button id="btn" type="submit" class="animatedBtn">
                            <p id="btnText">Submit</p>
                            <div class="check-box">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                                    <path fill="transparent" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                                </svg>
                            </div>
                        </button> -->

                        <button class="getDetails-button" type="submit">
                            <img src="../images/addbookbtn.png" alt="">
                            <span>Add Book</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>



    <!-- Overlay for Search Book -->
    <div id="searchBookOverlay" class="overlay-search">
        <div class="overlay-content-search">
            <button id="closeSearchBookOverlay" class="close-button">&times;</button>
            <img src="/images/searchBookLib.gif" alt="Overlay Icon" class="overlay-icon"> <!-- Add your icon here -->
            <h2 class="overlay-search-head">Search Book</h2>
            <div class="search-container">
                <div class="form-Searchgroup">
                    <div class="form-Searchgroup">
                        <img class="vendorIcon" src="/images/search.gif" alt="Search Icon" style="right: 25px;">
                        <input type="text" class="form-control" id="searchBar" name="bookSearch" placeholder=" "
                            oninput="searchLibraryBookDetails()" style="width: 400px; height: 1.7rem !important;">
                        <span class="form-control-placeholder" style="left: 3.75rem;">Search Book...</span>
                    </div>
                    <button class="refreshButton" onclick="refreshBooksData()" style="margin-top: 10px;">
                        <img src="/images/refresh.png" alt="Refresh Icon"> Refresh
                    </button>
                </div>
            </div>
            <button class="export_registered_students" onclick="exportBooksTable()">
                <img src="/images/export.png" alt="Export Icon"> Export
            </button>
            <div class="table-container">
                <table id="booksTable" class="styled-table">
                    <thead>
                        <tr>
                            <th>Book ID</th>
                            <th>Book Name</th>
                            <th>Author Name</th>
                            <th>Book Publication</th>
                            <th>Book Price</th>
                            <th>Ordered Quantity</th>
                            <th>Description</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="booksTablebody">
                        <!-- Table rows will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    

    <!-- Overlay for selecting Add or Search Member -->
    <div id="manageMemberOverlay" class="overlay">
        <div class="overlay-content-inner">
            <h2>Manage Member</h2>
            <button id="closeManageMemberOverlay" class="close-button">&times;</button>
            <div class="button-container" style="display: flex; justify-content: center; gap: 20px;">
                <div class="bookvaltcard">
                    <span id="addMemberButton">
                        <img src="/images/addMemberLib.gif" alt="">

                        Add Member
                    </span>
                </div>
                <div class="bookvaltcard">
                    <span id="searchMemberButton">
                        <img src="/images/searchMemberLib.gif" alt="">

                        Search
                    </span>
                </div>
            </div>
        </div>
    </div>


    <!-- Overlay for Add Member -->
    <div id="addMemberOverlay" class="overlay">
        <div class="overlay-content">
            <button id="closeAddMemberOverlay" class="close-button">&times;</button>

            <div class="overlay-inner">
                <div class="left-side">
                    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                        type="module"></script>
                    <dotlottie-player src="https://lottie.host/431fa4d6-36ee-4442-a585-67378fae8a29/VkMGtmgh6m.json"
                        background="transparent" speed="1" style="width: 300px; height: 300px;" loop
                        autoplay></dotlottie-player>
                </div>
                <div class="right-side">
                    <h2>Add Member</h2>
                    <form id="addMemberForm">
                        <div class="form-row">
                            <div class="form-group">
                                <input type="text" class="form-control" id="memberName" name="memberName" required
                                    placeholder=" ">
                                <span class="form-control-placeholder">Member Name</span>
                                <div id="suggestions" class="suggestions"></div> <!-- Suggestions container -->
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="memberID" name="memberID" required
                                    placeholder=" ">
                                <span class="form-control-placeholder">Member ID</span>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <select id="classFilter" name="classFilter" class="form-control custom-select" style="text-align: center;" required>
                                    <option value="" disabled selected style="display:none;">Select Class</option>
                                    <option value="Nursery">Nursery</option>
                                    <option value="KG1">KG-1</option>
                                    <option value="KG2">KG-2</option>
                                    <option value="1st">1st</option>
                                    <option value="2nd">2nd</option>
                                    <option value="3rd">3rd</option>
                                    <option value="4th">4th</option>
                                    <option value="5th">5th</option>
                                    <option value="6th">6th</option>
                                    <option value="7th">7th</option>
                                    <option value="8th">8th</option>
                                    <option value="9th">9th</option>
                                    <option value="10th">10th</option>
                                </select>
                                <span class="form-control-placeholder"></span>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" id="contact" name="contact" required
                                    placeholder=" ">
                                <span class="form-control-placeholder">Contact</span>
                            </div>
                        </div>

                        <!-- <button id="btn" type="submit" class="animatedBtn">
                            <p id="btnText">Submit</p>
                            <div class="check-box">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                                    <path fill="transparent" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
                                </svg>
                            </div>
                        </button> -->

                        
                        <button class="getDetails-button" type="submit">
                            <img src="../images/addmemberbtn.png" alt="">
                            <span>Add Member</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay for Search Member -->
    <div id="searchMemberOverlay" class="overlay-search">
        <div class="overlay-content-search">
            <button id="closeSearchMemberOverlay" class="close-button">&times;</button>
            <img src="/images/searchMemberLib.gif" alt="Overlay Icon" class="overlay-icon"> <!-- Add your icon here -->
            <h2 class="overlay-search-head">Search Member</h2>
            <div class="search-container">
                <div class="form-Searchgroup">
                    <div class="form-Searchgroup">
                        <img class="vendorIcon" src="/images/search.gif" alt="Search Icon" style="right: 25px; left: 405px;">
                        <input type="text" class="form-control" id="searchMemberInput" name="memberSearch" placeholder=" "
                            oninput="searchMemberDetails()" style="width: 400px;">
                        <span class="form-control-placeholder" style="left: 3.75rem;">Search by student name</span>
                    </div>
    
                    <button class="refreshButton" onclick="refreshMembersData()" style="margin-top: 10px;">
                        <img src="/images/refresh.png" alt="Refresh Icon"> Refresh
                    </button>
                </div>
            </div>
            <button class="export_registered_students" onclick="exportMembersTable()">
                <img src="/images/export.png" alt="Export Icon"> Export
            </button>
            <div class="table-container">
                <table id="membersTable" class="styled-table">
                    <thead>
                        <tr>
                            <th>Member ID</th>
                            <th>Student Name</th>
                            <th>Class</th>
                            <th>Contact</th>
                            <th>Books Issued</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="membersTablebody">
                        <!-- Table rows will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    


    <!-- Transaction Tracker Overlay -->
    <div id="transactionTrackerOverlay" class="overlay">
        <div class="overlay-content-inner" style="max-width:400px">
            <h2>Transaction Tracker</h2>
            <button id="closeTransactionTrackerOverlay" class="close-button">&times;</button>
            <div class="button-container">
                <div class="bookvaltcard">
                    <span id="issueBookButton">
                        <img src="/images/issueBook.gif" alt="">

                        Issue Book
                    </span>
                </div>
                <div class="bookvaltcard">
                    <span id="returnBookButton">
                        <img src="/images/returnBook.gif" alt="">

                        Return Book
                    </span>
                </div>
                <div class="bookvaltcard">
                    <span id="searchTransactionButton">
                        <img src="/images/searchTranLib.gif" alt="">

                        Search
                    </span>
                </div>
            </div>
        </div>
    </div>


    <!-- Issue Book Overlay -->
    <div id="issueBookOverlay" class="overlay">
        <div class="overlay-content">
            <button id="closeIssueBookOverlay" class="close-button">×</button>
            <div class="overlay-inner">
                <div class="left" style="border-right: 1px solid;">
                    <!-- <h2>Issue Book</h2> -->
                    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                        type="module"></script>

                    <dotlottie-player src="https://lottie.host/54ec250e-ed7f-414b-94b2-f1e687c7f721/VMkZIwDi3G.json"
                        background="transparent" speed="1" style="width: 300px; height: 300px;" loop
                        autoplay></dotlottie-player>
                    <form id="issueBookForm">
                        <div class="form-group">
                            <input type="text" class="form-control" id="studentEnrollmentNo" required placeholder=" ">
                            <span class="form-control-placeholder">Member ID</span>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" id="bookEnrollmentNo" required placeholder=" ">
                            <span class="form-control-placeholder">Book ID</span>
                        </div>
                        <!-- <button type="submit" class="submit-button">Get Details</button> -->
                        <button class="getDetails-button" type="submit">
                            <img src="../images/conform.png" alt="">
                            <span>Get Details</span>
                        </button>
                        
                    </form>
                </div>
                <div class="right" style="flex: 1;">
                    <form id="additionalInfoForm" style="margin-top: 50px;">
                        <div class="container">
                            <h2 class="center-heading"> Issue Book</h2>
                            <div class="horizontal-group">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="studentName" required placeholder=" "
                                        readonly>
                                    <span class="form-control-placeholder">Student Name</span>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" id="studentcontact" required placeholder=" "
                                        readonly>
                                    <span class="form-control-placeholder">Contact</span>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" id="class" required placeholder=" "
                                        readonly>
                                    <span class="form-control-placeholder">Class</span>
                                </div>
                            </div>
                        </div>
                        <div class="container">
                            <!-- <h3 class="center-heading">Book Details</h3> -->
                            <div class="horizontal-group">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="issuebookName" required placeholder=" "
                                        readonly>
                                    <span class="form-control-placeholder">Book Name</span>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" id="bookauthorName" required placeholder=" "
                                        readonly>
                                    <span class="form-control-placeholder">Author Name</span>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" id="bookPublicationName" required
                                        placeholder=" " readonly>
                                    <span class="form-control-placeholder">Publication Name</span>
                                </div>
                            </div>
                        </div>
                        <div class="container" style="width: 350px;margin-left: 200px;">
                            <div class="horizontal-group" style="margin-top: 10px;">
                                <div class="form-group">
                                    <input type="date" class="form-control" id="issueDate" required placeholder=" "
                                        style="text-align: center;">
                                    <span class="form-control-placeholder">Issue Date</span>
                                </div>
                                <div class="form-group">
                                    <input type="date" class="form-control" id="returnDate" required placeholder=" "
                                        style="text-align: center;">
                                    <span class="form-control-placeholder">Return Date</span>
                                </div>
                            </div>
                        </div>
                        <!-- <button type="submit" class="submit-button">Issue Book</button> -->
                        <button class="getDetails-button" type="submit">
                            <img src="../images/issue book.png" alt="">
                            <span>Issue Book</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>



    <!-- Return Book Overlay -->
    <div id="returnBookOverlay" class="overlay-search">
        <div class="overlay-content-search">
            <button id="closeReturnBookOverlay" class="close-button">×</button>
            <img src="/images/returnbook.png" alt="Overlay Icon" class="overlay-icon"> <!-- Add your icon here -->
            <h2 class="overlay-search-head">Return Book</h2>
            <div class="overlay-inner" style="display: flex; flex-direction: column; align-items: center; width: 100%;">
                <form id="returnBookForm" class="form-inline">
                    <div class="form-group">
                        <label>
                            <input type="radio" name="inputType" id="studentRadio" value="student" required> Member ID
                        </label>
                        <label>
                            <input type="radio" name="inputType" id="bookRadio" value="book" required> Book ID
                        </label>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" id="studentOrBookNo" required placeholder=" "
                            style="width: 18rem;">
                        <span class="form-control-placeholder" id="formControlPlaceholder">Enter Member or Book
                            ID</span>
                    </div>
                    <button class="getDetails-button" type="submit">
                        <img src="../images/conform.png" alt="">
                        <span>Get Details</span>
                    </button>
                </form>
                <div class="details-and-table-container">
                    <div id="lottieContainer">
                        <dotlottie-player src="https://lottie.host/e4077a4b-4ff4-4f20-ba86-8e18a37aefac/sN8rCK2edJ.json" background="transparent" speed="1" style="width: 500px; height: 400px;" loop autoplay></dotlottie-player>
                    </div>
                    <div id="detailsContainer" class="details-container" style="display: none;"></div> <!-- Container for details -->
                    <div id="tableContainer" class="table-container" style="width: 100%; margin-bottom: 10rem; margin-top: -2rem; display: none;">
                        <table class="details-table styled-table">
                            <thead>
                                <tr id="tableHeaders">
                                    <!-- Headers will be dynamically populated here -->
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Rows will be dynamically populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    





    <!-- Search Transaction Overlay -->
    <div id="searchTransactionOverlay" class="overlay-search">
        <div class="overlay-content-search">
            <button id="closeSearchTransactionOverlay" class="close-button">×</button>
            <img src="/images/searchtransactionlib.png" alt="Overlay Icon" class="overlay-icon" style="height: 40px; width: 40px;"> <!-- Add your icon here -->
            <h2 class="overlay-search-head" style="text-align: center;">Search Transactions</h2>
            <div class="search-container" style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                <div class="form-Searchgroup" style="display: flex; align-items: center;">
                    <img class="vendorIcon" src="/images/search.gif" alt="Search Icon" style="margin-right: 10px;">
                    <input type="text" class="form-control" id="searchTransactionInput" name="transactionSearch" placeholder=" " oninput="searchTransactionDetails()" style="width: 400px;">
                    <span class="form-control-placeholder" style="left: 3.75rem;">Search Transactions...</span>
                </div>
                <button class="refreshButton" onclick="refreshTransactionData()" style="margin-left: 10px; margin-top: 10px;">
                    <img src="/images/refresh.png" alt="Refresh Icon"> Refresh
                </button>
            </div>
            <button class="export_registered_students" onclick="exportTransactionTable()">
                <img src="/images/export.png" alt="Export Icon"> Export
            </button>
            <div class="overlay-inner" style="display: flex; justify-content: space-between;">
                <div style="width: 48%;">
                    <h3>Issue Details</h3>
                    <div class="table-container" style=" max-height: calc(100% - 14rem);">
                        <div class="">
                            <table class="details-table styled-table">
                                <thead>
                                    <tr id="issueTableHeaders">
                                        <th>Transaction ID</th>
                                        <th>Member ID</th>
                                        <th>Book ID</th>
                                        <th>Transaction Date</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="issueTableBody">
                                    <!-- Issue rows will be dynamically populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div style="width: 48%;">
                    <h3>Return Details</h3>
                    <div class="table-container" style=" max-height: calc(100% - 14rem);">
                        <div class="">
                            <table class="details-table styled-table">
                                <thead>
                                    <tr id="returnTableHeaders">
                                        <th>Transaction ID</th>
                                        <th>Member ID</th>
                                        <th>Book ID</th>
                                        <th>Transaction Date</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="returnTableBody">
                                    <!-- Return rows will be dynamically populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <!-- Penalty Processor Overlay -->
    <div id="penaltyProcessorOverlay" class="overlay-search">
        <div class="overlay-content-search">
            <button id="closePenaltyProcessorOverlay" class="close-button">&times;</button>
            <img src="/images/penalty.gif" alt="Overlay Icon" class="overlay-icon"> <!-- Add your icon here -->
            <h2 class="overlay-search-head">Penalty Processor</h2>
            <button class="export_registered_students" onclick="exportPenaltiesToCSV()">
                <img src="/images/export.png" alt="Export Icon"> Export
            </button>
            <div class="search-container">
                <div class="form-Searchgroup">
                    <div class="form-Searchgroup">
                        <img class="vendorIcon" src="/images/search.gif" alt="Search Icon" style="right: 25px;">
                        <input type="text" class="form-control penaltysearch" id="searchBar" name="transactionSearch" placeholder=" " oninput="searchPenaltyTransactions()" style="width: 400px; height: 1.7rem !important;">
                        <span class="form-control-placeholder" style="left: 3.75rem;">Search Penalty...</span>
                    </div>
                    <button class="refreshButton" onclick="fetchPenaltyDetails()" style="margin-top: 10px;">
                        <img src="/images/refresh.png" alt="Refresh Icon"> Refresh
                    </button>
                </div>
            </div>
            <div class="table-container">
                <table class="styled-table penaltyuniquetable">
                    <thead>
                        <tr>
                            <th>Member Details</th>
                            <th>Contact</th>
                            <th>Book Details</th>
                            <th>Return/Due Date</th>
                            <th>Penalty Amount</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="penaltyTableBody">
                        <!-- Penalty rows will be dynamically populated here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    


    <!-- Report Overlay -->
    <div id="reportOverlay" class="overlay-search">
        <div class="overlay-content-search">
            <button id="closeReportOverlay" class="close-button" onclick="closeOverlay()">&times;</button>
            <h2 class="overlay-search-head">Report</h2>

            <button class="export_registered_students" id="exportButton" style="margin-left: 10px;">
                <img src="/images/export.png" alt="Export Icon"> Export
            </button>

            <div class="filter-container">
                <!-- 1st dropdown: Issue, Return, Penalty -->
                <div class="dropdown">
                    <label for="reportTypeDropdown">Select Report Type:</label>
                    <div class="custom-dropdown-container">
                        <img src="/images/report.gif" alt="Dropdown Icon" class="custom-dropdown-left-icon"
                            style="height: 2rem; width: 2rem;">
                        <select id="reportTypeDropdown" class="custom-dropdown common-height">
                            <option value="">Select Report Type</option>
                            <option value="issue">Issue</option>
                            <option value="return">Return</option>
                            <option value="penalty">Return (With Penalty)</option>
                        </select>
                        <img src="/images/down-arrow.png" alt="Right Dropdown Icon" class="custom-dropdown-right-icon">
                    </div>
                </div>

                <!-- 2nd dropdown: Filter by Class -->
                <div class="dropdown">
                    <label for="filterClassDropdown">Filter by Class:</label>
                    <div class="custom-dropdown-container">
                        <img src="/images/filterrbyclass.gif" alt="Dropdown Icon" class="custom-dropdown-left-icon"
                            style="height: 2rem; width: 2rem;">
                        <select id="filterClassDropdown" class="custom-dropdown common-height">
                            <option value="">Select Class</option>
                            <option value="Nursery">Nursery</option>
                            <option value="KG1">KG1</option>
                            <option value="KG2">KG2</option>
                            <option value="1st">1st</option>
                            <option value="2nd">2nd</option>
                            <option value="3rd">3rd</option>
                            <option value="4th">4th</option>
                            <option value="5th">5th</option>
                            <option value="6th">6th</option>
                            <option value="7th">7th</option>
                            <option value="8th">8th</option>
                            <option value="9th">9th</option>
                            <option value="10th">10th</option>
                        </select>
                        <img src="/images/down-arrow.png" alt="Right Dropdown Icon" class="custom-dropdown-right-icon">
                    </div>
                </div>

                <!-- 3rd input: Filter by Date -->
                <div class="dropdown">
                    <label for="filterDateInput">Filter by Date:</label>
                    <div class="custom-input-container">
                        <img src="/images/calendar.gif" alt="Calendar Icon" class="custom-input-icon"
                            style="height: 2rem; width: 2rem;">
                        <input type="date" id="filterDateInput" class="custom-input common-height"
                            style="width: 9rem; text-align: right;" placeholder="Filter by Date">
                    </div>
                </div>
            </div>

            <div class="table-container" style=" ">
                <div id="lottie-container" class="report-lottie">
                    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
                        type="module"></script>

                    <dotlottie-player src="https://lottie.host/c194b567-83da-4ba0-8d6e-f330d254fab8/3UKBjwcgA6.json"
                        background="transparent" speed="1" style="width: 400px; height: 450px;" loop
                        autoplay></dotlottie-player>
                </div>
                <table class="styled-table reports-table" style="display: none;">
                    <thead>
                        <tr>
                            <th>Member ID</th>
                            <th>Member Name</th>
                            <th>Member Class</th>
                            <th>Book ID</th>
                            <th>Book Name</th>
                            <th>Transaction Date</th>
                            <th>Transaction Type</th>
                        </tr>
                    </thead>
                    <tbody id="reportTableBody">
                        <!-- Report rows will be dynamically populated here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>








    <script src="/js/Inventory_js/All.js"></script>
    <script src="/js/Library_js/Library_Console.js"></script>
    <script src="/js/Library_js/Library_books.js"></script>
    <script src="/js/Library_js/Library_members.js"></script>
    <script src="/js/Library_js/Library_issueBook.js"></script>
    <script src="/js/Library_js/Library_returnBook.js"></script>
    <script src="/js/Library_js/Library_searchTransaction.js"></script>
    <script src="/js/Library_js/Library_penaltyProcessor.js"></script>
    <script src="/js/Library_js/Library_reports.js"></script>
    <script src="/js/Universal_Components_JS/autoFill_student_details.js"></script>




    <!-- <script type="text/javascript">
        const btn = document.querySelector("#btn");
        const btnText = document.querySelector("#btnText");

        btn.onclick = () => {
            btnText.innerHTML = "Saved";
            btn.classList.add("active");
        };
    </script> -->

</body>

</html>