<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inventory Purchase</title>
  <link rel="stylesheet" href="/css/Inventory_Css/All.css">
  <link rel="stylesheet" href="/css/Inventory_Css/Inventory.css">
</head>

<body>

  <div class="dropdown" style="float: right; margin-right: 20px;">
    <button class="dropdown-button">
      <img src="/images/main-menu.png" alt="Dropdown Icon"
        style="background-color: transparent; width: 35px; height: 30px;">
    </button>
    <div class="dropdown-content">
      <button onclick="window.location.href='/dashboard'">
        <img src="/images/homeicon.png" alt="Dashboard Icon"
          style="background-color: transparent; width: 20px; height: 20px;"> Home
      </button>
      <button class="signout-button" id="logoutButton">
        <img src="/images/logout.png" alt="Signout Icon"
          style="background-color: transparent; width: 20px; height: 20px;"> Signout
      </button>
    </div>
  </div>


  <div class="adm-head">
    <div class="button-container">
      <h2>Purchase Console</h2>
    </div>
  </div>


  <!-- Buttons for overlay -->
  <div class="cards-container">
    <div class="card add-vendor">
      <a>
        <button>
          <div class="dotlottie-container">
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>
            <dotlottie-player src="https://lottie.host/a2c9be57-829c-4a5f-b68e-a0c20d1bf05e/bUQIIe5xqz.json"
              background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
          </div>
          <h3>Vendor Details</h3>
        </button>
      </a>
    </div>

    <div class="card add-book">
      <a>
        <button>
          <div class="dotlottie-container">
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>
            <dotlottie-player src="https://lottie.host/751e9208-858f-4336-bf76-92b62c3aced4/H57DKXfEaG.json"
              background="transparent" speed="1" style="width: 300px; height: 200px; margin-bottom: 2rem;" loop
              autoplay></dotlottie-player>
          </div>
          <h3>Books Processing</h3>
        </button>
      </a>
    </div>
    <div class="card add-uniform">
      <a>
        <button>
          <div class="dotlottie-container">
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>
            <dotlottie-player src="https://lottie.host/95385bc4-4150-4e73-ac75-b0566da374ee/HzZJOD1n6u.json"
              background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
          </div>
          <h3>Uniform Processing</h3>
        </button>
      </a>
    </div>
    <div class="card purchase-reports">
      <a>
        <button>
          <div class="dotlottie-container">
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>
            <dotlottie-player src="https://lottie.host/5375d8da-3d9e-48aa-9e53-1fa2ade22cf2/snraffQX19.json"
              background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
          </div>
          <h3>Purchase Reports</h3>
        </button>
      </a>
    </div>
  </div>
  <div id="toast" class="toast"></div>

  <!-- Overlay for Add Vendor -->
  <div id="addVendorOverlay" class="overlay">
    <div class="overlay-content">
      <div class="icon-container">
        <i><img class="vendorIcon" src="/images/vendor.png" alt=""></i>
        <h2 class="overlay-head">Add Vendor</h2>
      </div>
      <!-- Close icon -->
      <div class="close-icon" onclick="closeOverlay(event)">×</div>

      <div class="form-container">
        <form action="/inventory/purchase/add_vendor" method="post" id="vendorForm" class="addVendorForm">
          <div id="toast" class="toast"></div>

          <div class="form-group">
            <input type="text" class="form-control wide" id="vendorName" name="vendorName" placeholder=" " required
              style="width: 14rem;">
            <span class="form-control-placeholder">Vendor Name</span>
          </div>

          <div class="form-group">
            <input type="text" class="form-control wide" id="amountPaid" name="amountPaid" placeholder=" " required>
            <span class="form-control-placeholder">Amount Paid</span>
          </div>

          <div class="form-group">
            <select id="vendorFor" class="custom-dropdown" name="vendorFor" required>
              <option value="" disabled selected> Vendor For </option>
              <option value="Books">Books</option>
              <option value="Uniform">Uniform</option>
            </select>
          </div>

          <button class="form-group" type="submit" style="border-style: none; background-color: transparent;"><img
              class="icon" src="/images/addVendor.gif"></button>
        </form>
      </div>

      <div class="form-Searchgroup">
        <img class="vendorIcon" src="/images/SearchVendor.png" alt="Search Icon">
        <input type="text" class="form-control" id="searchField" name="vendorSearch" oninput="searchVendorDetails()"
          placeholder=" " />
        <span class="form-control-placeholder" style="margin-left: 3.5rem;">Search Vendor By Name...</span>
        <button id="refreshvendorbutton" onclick="refreshData()">
          <img src="/images/refresh.png" alt="Refresh Icon" style="width: 25px; height: 25px; margin-right: 2px;">
          Refresh</button>
      </div>
      
      <div class="table-container">
        <table id="vendorTable">
            <thead>
                <tr>
                    <th>Vendor Name</th>
                    <th>Vendor For</th>
                    <!--<th>Net Payable</th>-->
                    <th>Paid Till Now</th>
                    <!--<th>Balance</th>-->
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="vendorTableBody">
                <!-- Table rows will be populated dynamically -->
            </tbody>
        </table>
    </div>

    </div>
  </div>

  <!-- Overlay for Add Books -->
  <div id="addBooksOverlay" class="overlay" style="display: none;">
    <div class="overlay-content">
      <div class="icon-container">
        <i><img class="vendorIcon" src="/images/addbooks.png" alt=""></i>
        <h2 class="overlay-head">Add Books</h2>
      </div>
      <!-- Close icon -->
      <div class="close-icon" onclick="closeOverlay(event)">×</div>

      <div class="form-Searchgroup">
        <img class="vendorIcon" src="/images/searchBook.png" alt="Search Icon">
        <input type="text" class="form-control" id="bookssearchField" name="bookSearch" oninput="searchBookDetails()"
          placeholder=" " />
        <span class="form-control-placeholder" style="margin-left: 3.5rem;">Search Book By Name...</span>
        <button id="refreshvendorbutton" onclick="refreshbooksData()">
          <img src="/images/refresh.png" alt="Refresh Icon" style="width: 25px; height: 25px; margin-right: 2px;">
          Refresh</button>
      </div>

      <div class="form-container" style="display: flex; justify-content: center; align-items: center;">
        <form id="addBooksForm" class="addBookForm" style="display: flex; flex-wrap: wrap; gap: 10px; width: 100%;">
            <div class="form-group" style="flex: 1.6;">
                <input type="text" class="form-control" id="bookTitle" name="bookTitle" placeholder=" " required style="width: 100%;">
                <span class="form-control-placeholder">Book Title</span>
            </div>
            <div class="form-group" style="flex: 0.5;">
                <select id="bookClass" name="bookClass" class="custom-dropdown" required style="width: 100%; border-style: none;">
                    <option value="" disabled selected>Class</option>
                    <option value="Nursery">Nursery</option>
                    <option value="KG">KG</option>
                    <!-- Add more options for other classes -->
                </select>
            </div>
            <div class="form-group" style="flex: 1;">
                <input type="number" class="form-control" id="purchasePrice" name="purchasePrice" placeholder=" " required style="width: 100%;">
                <span class="form-control-placeholder">Purchase Price</span>
            </div>
            <div class="form-group" style="flex: 1;">
                <input type="number" class="form-control" id="sellingPrice" name="sellingPrice" placeholder=" " required style="width: 100%;">
                <span class="form-control-placeholder">Selling Price</span>
            </div>
            <div class="form-group" style="flex: 0.6;">
                <select id="bookvendor" name="vendor" class="custom-dropdown" required style="width: 100%; border-style: none;">
                    <!-- Options will be populated dynamically -->
                    <option value="" disabled selected>Vendor</option>
                </select>
            </div>
            <div class="form-group" style="flex: 1;">
                <input type="number" class="form-control" id="orderedQuantity" name="orderedQuantity" placeholder=" " required style="width: 100%;">
                <span class="form-control-placeholder">Ordered Quantity</span>
            </div>
            <button class="form-group" type="submit" style="border-style: none; background-color: transparent; align-self: center;">
                <img class="icon" src="/images/addBook.gif">
            </button>
        </form>
    </div>  



      <!-- Table for displaying books -->
      <div class="table-container">
        <table id="booksTable">
            <thead>
                <tr>
                    <th>Book Title</th>
                    <th>Class</th>
                    <th>Purchase Price</th>
                    <th>Selling Price</th>
                    <th>Vendor</th>
                    <th>Ordered Quantity</th>
                    <th>Remaining Quantity</th>
                    <th>Returned Quantity</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="booksTableBody">
                <!-- Table rows will be populated dynamically -->
            </tbody>
        </table>
    </div>
      
    </div>
  </div>

  <!-- Add Uniform Overlay -->
  <div id="addUniformOverlay" class="overlay add-uniform">
    <div class="overlay-content">
      <h2>Add Uniform</h2>
      <div class="close-icon" onclick="closeOverlay(event)">×</div>
      <input type="text" id="uniformsearchField" placeholder="Enter Uniform Item..." oninput="searchUniformDetails()">
      <!--<button id="uniformsearchButton" class="search-button" onclick="searchUniformDetails()">
        search
      </button>-->
      <button id="refreshvendorbutton" onclick="refreshUniformsData()">Refresh</button>
      <form id="addUniformForm">
        <div id="toast" class="toast"></div>
        <label for="uniformItem">Uniform Item:</label>
        <input type="text" id="uniformItem" name="uniform_item" required><br>

        <label for="sizeOfItem">Size of Item:</label>
        <input type="text" id="sizeOfItem" name="size_of_item" required><br>

        <label for="purchasePrice">Purchase Price:</label>
        <input type="number" id="purchasePrice" name="purchase_price" required><br>

        <label for="sellingPrice">Selling Price:</label>
        <input type="number" id="sellingPrice" name="selling_price" required><br>

        <label for="vendor">Vendor:</label>
        <select id="univendor" class="custom-dropdown" name="vendor" required>
          <option value="" disabled selected>Vendor</option>
        </select>
        <br>

        <label for="orderedQuantity">Ordered Quantity:</label>
        <input type="number" id="orderedQuantity" name="ordered_quantity" required><br>

        <!--<label for="remainingQuantity">Remaining Quantity:</label>
        <input type="number" id="remainingQuantity" name="remaining_quantity" required><br> -->

        <button class="form-group" type="submit" style="border-style: none; background-color: transparent;">
          <img class="icon" src="/images/addUniform.gif">
        </button>
      </form>
      <!-- Uniform Table -->
      <table>
        <thead>
          <tr>
            <th>Uniform Item</th>
            <th>Size</th>
            <th>Purchase Price</th>
            <th>Selling Price</th>
            <th>Vendor</th>
            <th>Ordered Quantity</th>
            <th>Remaining Quantity</th>
            <th>Returned Quantity</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="uniformTable">
          <!-- Table rows will be populated dynamically -->
        </tbody>
      </table>
    </div>
  </div>


  <!-- Purchase Report Overlay  -->
  <div id="purchaseReportsOverlay" class="overlay purchase-reports">
    <div class="overlay-content">
      <div class="close-icon" onclick="closeOverlay(event)">×</div>
      <h2>Purchase Report</h2>
      <button id="vendorSummary" class="form-group" type="submit"
        style="border-style: none; background-color: transparent;">
        <img class="icon" src="/images/vendorSummary.gif">Vendor Summary
    </button>
      <select id="vendorDetails" class="custom-dropdown">
        <option value="">Vendor Details</option>
        <!-- Vendor options will be populated here -->
      </select>
      <button id="profitLoss" class="form-group" type="submit"
        style="border-style: none; background-color: transparent;">
        <img class="icon" src="/images/profitLoss.gif">Profit/Loss
      </button>
      <button id="exportButton" class="form-group" type="submit"
        style="border-style: none; background-color: transparent;">
        <img class="icon" src="/images/exportButton.gif">Export Table
      </button>
      <div id="tableContainer"></div> <!-- Container to display the table -->
    </div>
  </div>




  </div>



  <script src="/js/Inventory_js/Inventory_addVendor.js"></script>
  <script src="/js/Inventory_js/Inventory_addBooks.js"></script>
  <script src="/js/Inventory_js/Inventory_addUniform.js"></script>
  <script src="/js/Inventory_js/Inventory_purchasereports.js"></script>
  <script src="/js/Inventory_js/All.js"></script>
</body>

</html>