<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inventory Purchase</title>
  <link rel="stylesheet" href="/css/Inventory_Css/InventoryAll.css">
  <link rel="stylesheet" href="/css/Inventory_Css/Inventory.css">
  <link rel="stylesheet" href="/css/NavButtons.css">
  <!-- Boxicons CSS -->
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

</head>

<body>
  <div id="loadingOverlayinventory" class="loading-overlay-inventory">
    <div class="loader2"></div>
  </div>


  <nav class="navbar">
    <div class="logo_item">
      <!-- <i class="bx bx-menu" id="sidebarOpen"></i> -->
      <img id="logo" src="" alt="Logo">
      <!-- <div class="user_name" id="user_name"></div> -->
    </div>

    <div class="navbar_center">
      <button onclick="window.location.href='/dashboard'"> <i class='bx' id="backButton"> <img src="/images/back.png" alt="Previous Icon"></i></button>
      <button onclick="window.location.href='/dashboard'"><i class='bx' id="homeButton"> <img src="/images/homeicon.png"
            alt="Dashboard Icon"></i></button>
      <button id="logoutButton"> <i class='bx' id="signoutButton"> <img src="/images/logout.png"
            alt="Signout Icon"></i></button>
    </div>

    <div class="navbar_content">
      <!-- <i class="bi bi-grid"></i>
      <i class='bx bx-bell'></i> -->
    </div>
  </nav>

  <div class="adm-head">
    <div class="button-container">
      <h2>Purchase Console</h2>
    </div>
  </div>


  <!-- Buttons for overlay -->
  <div class="cards-container">
    <div class="card add-vendor">
      <a>
        <button>
          <div class="dotlottie-container">
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>
            <dotlottie-player src="https://lottie.host/a2c9be57-829c-4a5f-b68e-a0c20d1bf05e/bUQIIe5xqz.json"
              background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
          </div>
          <h3>Vendor Details</h3>
        </button>
      </a>
    </div>

    <div class="card add-book">
      <a>
        <button>
          <div class="dotlottie-container">
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>
            <dotlottie-player src="https://lottie.host/751e9208-858f-4336-bf76-92b62c3aced4/H57DKXfEaG.json"
              background="transparent" speed="1" style="width: 300px; height: 200px; margin-bottom: 2rem;" loop
              autoplay></dotlottie-player>
          </div>
          <h3>Books Processing</h3>
        </button>
      </a>
    </div>

    <div class="card add-uniform">
      <a>
        <button>
          <div class="dotlottie-container">
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>
            <dotlottie-player src="https://lottie.host/95385bc4-4150-4e73-ac75-b0566da374ee/HzZJOD1n6u.json"
              background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
          </div>
          <h3>Uniform Processing</h3>
        </button>
      </a>
    </div>

    <div class="card purchase-reports">
      <a>
        <button>
          <div class="dotlottie-container">
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>
            <dotlottie-player src="https://lottie.host/5375d8da-3d9e-48aa-9e53-1fa2ade22cf2/snraffQX19.json"
              background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
          </div>
          <h3>Purchase Reports</h3>
        </button>
      </a>
    </div>
  </div>
  <div id="toast-container" class="toast-container">
    <div id="toast" class="toast"></div>
  </div>

  <!-- Overlay for Add Vendor -->
  <div id="addVendorOverlay" class="overlay">
    <div class="overlay-content">
      <div id="loadingOverlayVendor" class="loading-overlay">
        <div>
          <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
            type="module"></script>

          <dotlottie-player src="https://lottie.host/7319098f-7e9e-40eb-8ffe-6c22f55e9d70/qNoQ09vbMn.json"
            background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
        </div>
      </div>
      <div class="icon-container">
        <i><img class="topicon" src="/images/vendor.png" alt=""></i>
        <h2 class="overlay-head">Add Vendor</h2>
      </div>
      <!-- Close icon -->
      <div class="close-icon" onclick="closeOverlay(event)">×</div>

      <div class="form-container">

        <form action="/inventory/purchase/add_vendor" method="post" id="vendorForm" class="addVendorForm">

          <div id="toast-container" class="toast-container">
            <div id="toast" class="toast"></div>
          </div>

          <div class="form-group">
            <input type="text" class="form-control wide" id="vendorName" name="vendorName" placeholder=" " required
              style="width: 14rem;">
            <span class="form-control-placeholder">Vendor Name</span>
          </div>

          <div class="form-group">
            <input type="text" class="form-control wide" id="amountPaid" name="amountPaid" placeholder=" " required>
            <span class="form-control-placeholder">Amount Paid</span>
          </div>

          <div class="form-group" style="margin-bottom: 1.8rem;">
            <select id="vendorFor" class="custom-dropdown" name="vendorFor" required>
              <option value="" disabled selected> Vendor For </option>
              <option value="Books">Books</option>
              <option value="Uniform">Uniform</option>
            </select>
          </div>

          <button class="form-group" type="submit" style="border-style: none; background-color: transparent;"><img
              class="submit-icon" src="/images/addVendor.gif"></button>
        </form>
      </div>

      <div class="form-Searchgroup">
        <img class="vendorIcon" src="/images/search.gif" alt="Search Icon">
        <input type="text" class="form-control" id="searchField" name="vendorSearch" oninput="searchVendorDetails()"
          placeholder=" " />
        <span class="form-control-placeholder">Search Vendor By Name...</span>
        <button id="refreshvendorbutton" onclick="refreshData()">
          <img src="/images/refresh.png" alt="Refresh Icon" style="width: 25px; height: 25px; margin-right: 2px;">
          Refresh</button>
      </div>

      <div class="table-container">
        <table id="vendorTable">
          <thead>
            <tr>
              <th>Vendor Name</th>
              <th>Vendor For</th>
              <!--<th>Net Payable</th>-->
              <th>Paid Till Now</th>
              <!--<th>Balance</th>-->
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="vendorTableBody">
            <!-- Table rows will be populated dynamically -->
          </tbody>
        </table>
      </div>

    </div>
  </div>

  <!-- Overlay for Add Books -->
  <div id="addBooksOverlay" class="overlay" style="display: none;">
    <div class="overlay-content">
      <div id="loadingOverlaybooks" class="loading-overlay">
        <div>
          <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
            type="module"></script>

          <dotlottie-player src="https://lottie.host/7319098f-7e9e-40eb-8ffe-6c22f55e9d70/qNoQ09vbMn.json"
            background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
        </div>
      </div>
      <div class="icon-container">
        <i><img class="topicon" src="/images/addbooks.png" alt=""></i>
        <h2 class="overlay-head">Add Books</h2>
      </div>
      <!-- Close icon -->
      <div class="close-icon" onclick="closeOverlay(event)">×</div>

      <div class="form-container"
        style="display: flex; justify-content: center; align-items: center; margin-top: 3.5rem;">
        <form id="addBooksForm" class="addBookForm" style="display: flex; flex-wrap: wrap; gap: 0.6rem; width: 100%;">
          <div id="toast-container" class="toast-container">
            <div id="toast" class="toast"></div>
          </div>
          <div class="form-group" style="flex: 1.6;">
            <input type="text" class="form-control" id="bookTitle" name="bookTitle" placeholder=" " required
              style="width: 100%;">
            <span class="form-control-placeholder">Book Title</span>
          </div>

          <!-- CSS for below dropdown added in Inventory.css-->
          <div class="form-group" style="flex: 0.7; position: relative;"  >
            <div id="customDropdown" class="custom-dropdown" style=" height: 2rem;" onclick="toggleDropdown()">
              <div class="dropdown-selected">Class</div>
              <div class="dropdown-options">
                <div class="option" data-value="Range">
                  Range &#8680;
                  <div class="submenu">
                    <div class="submenu-option" data-value="Nursery to KG2">Nursery to KG2</div>
                    <div class="submenu-option" data-value="Nursery to 4th">Nursery to 4th</div>
                    <div class="submenu-option" data-value="1st to 4th">1st to 4th</div>
                    <div class="submenu-option" data-value="5th to 10th">5th to 10th</div>
                    <div class="submenu-option" data-value="1st to 10th">1st to 10th</div>
                    <div class="submenu-option" data-value="All Class">All Class</div>
                    <!-- Add more range options here -->
                  </div>
                </div>
                <div class="option" data-value="Nursery">Nursery</div>
                <div class="option" data-value="KG1">KG1</div>
                <div class="option" data-value="KG2">KG2</div>
                <div class="option" data-value="1st">1st</div>
                <div class="option" data-value="2nd">2nd</div>
                <div class="option" data-value="3rd">3rd</div>
                <div class="option" data-value="4th">4th</div>
                <div class="option" data-value="5th">5th</div>
                <div class="option" data-value="6th">6th</div>
                <div class="option" data-value="7th">7th</div>
                <div class="option" data-value="8th">8th</div>
                <div class="option" data-value="9th">9th</div>
                <div class="option" data-value="10th">10th</div>
                <!-- Add more options for other classes -->
              </div>
            </div>
            <input type="hidden" id="bookClass" name="bookClass" required>
          </div>

          <div class="form-group" style="flex: 1;">
            <input type="number" class="form-control" id="book_sellingPrice" name="book_sellingPrice" placeholder=" " required style="width: 100%;">
            <span class="form-control-placeholder">Selling Price</span>
        </div>
        
        <div class="form-group" style="flex: 1;">
            <input type="number" class="form-control" id="book_margin" name="book_margin" placeholder=" " required style="width: 80%;" step="0.01">
            <span class="form-control-placeholder">% Margin</span>
        </div>
        
        <div class="form-group" style="flex: 1;">
            <input type="number" class="form-control" id="book_purchasePrice" name="book_purchasePrice" placeholder=" " required readonly style="width: 100%;">
            <span class="form-control-placeholder">Purchase Price</span>
        </div>


          <div class="form-group" style="flex: 1.1;">
            <select id="bookvendor" name="vendor" class="custom-dropdown" required
              style="border-style: none; margin-bottom: 0.8rem;">
              <!-- Options will be populated dynamically -->
              <option value="" disabled selected>Vendor</option>
            </select>
          </div>
          <div class="form-group" style="flex: 1;">
            <input type="number" class="form-control" id="orderedQuantity" name="orderedQuantity" placeholder=" "
              required style="width: 100%;">
            <span class="form-control-placeholder">Ordered Quantity</span>
          </div>
          <button class="form-group" type="submit"
            style="border-style: none; background-color: transparent; align-self: center;">
            <img class="submit-icon" src="/images/addBook.gif">
          </button>
        </form>
      </div>

      <div class="form-Searchgroup">
        <img class="vendorIcon" src="/images/search.gif" alt="Search Icon">
        <input type="text" class="form-control" id="bookssearchField" name="bookSearch" oninput="searchBookDetails()"
          placeholder=" " />
        <span class="form-control-placeholder">Search Book By Name...</span>
        <button id="refreshvendorbutton" onclick="refreshbooksData()">
          <img src="/images/refresh.png" alt="Refresh Icon" style="width: 25px; height: 25px; margin-right: 2px;">
          Refresh</button>
      </div>



      <!-- Table for displaying books -->
      <div class="table-container">
        <table id="booksTable">
          <thead>
            <tr>
              <th>Book Title</th>
              <th>Class</th>
              <th>Purchase Price</th>
              <th>Selling Price</th>
              <th>Vendor</th>
              <th>Ordered Quantity</th>
              <th>Remaining Quantity</th>
              <th>Returned Quantity</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="booksTableBody">
            <!-- Table rows will be populated dynamically -->
          </tbody>
        </table>
      </div>

    </div>
  </div>

  <!-- Add Uniform Overlay -->
  <div id="addUniformOverlay" class="overlay add-uniform">
    <div class="overlay-content">
      <div id="loadingOverlayuniform" class="loading-overlay">
        <div>
          <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
            type="module"></script>

          <dotlottie-player src="https://lottie.host/7319098f-7e9e-40eb-8ffe-6c22f55e9d70/qNoQ09vbMn.json"
            background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
        </div>
      </div>
      <div class="icon-container">
        <i><img class="topicon" src="/images/uniform.png" alt=""></i>
        <h2 class="overlay-head">Add Uniform</h2>
      </div>


      <div class="close-icon" onclick="closeOverlay(event)">×</div>



      <div class="form-container"
        style="display: flex; justify-content: center; align-items: center; margin-top: 3.5rem;">
        <form id="addUniformForm" class="addBookForm" style="display: flex; flex-wrap: wrap; gap: 0.6rem; width: 100%;">
          <div id="toast-container" class="toast-container">
            <div id="toast" class="toast"></div>
          </div>
          <div class="form-group" style="flex: 1;">
            <input type="text" class="form-control" id="uniformItem" name="uniform_item" placeholder=" " required
              style="width: 100%;">
            <span class="form-control-placeholder">Uniform Item</span>
          </div>

          <div class="form-group" style="flex: 1;">
            <input type="text" class="form-control" id="sizeOfItem" name="size_of_item" placeholder=" " required
              style="width: 100%;">
            <span class="form-control-placeholder">Size of Item</span>
          </div>

          <div class="form-group" style="flex: 1;">
            <input type="number" class="form-control" id="uniform_purchasePrice" name="uniform_purchasePrice" placeholder=" " required  style="width: 100%;">
            <span class="form-control-placeholder">Purchase Price</span>
        </div> 

          <div class="form-group" style="flex: 1;">
            <input type="number" class="form-control" id="uniform_sellingPrice" name="uniform_sellingPrice" placeholder=" " required style="width: 100%;">
            <span class="form-control-placeholder">Selling Price</span>
        </div>
        <!--
        <div class="form-group" style="flex: 1;">
            <input type="number" class="form-control" id="uniform_margin" name="uniform_margin" placeholder=" " required style="width: 80%;" step="0.01">
            <span class="form-control-placeholder">% Margin</span>
        </div> -->
        

        
          <div class="form-group" style="flex: 1;">
            <select id="univendor" class="custom-dropdown form-control" name="vendor" required
              style="width: 100%;  margin-bottom: 0.8rem;">
              <option value="" disabled selected>Vendor</option>
            </select>
          </div>

          <div class="form-group" style="flex: 1;">
            <input type="number" class="form-control" id="orderedQuantity" name="ordered_quantity" placeholder=" "
              required style="width: 100%;">
            <span class="form-control-placeholder">Ordered Quantity</span>
          </div>

          <button class="form-group" type="submit" style="border-style: none; background-color: transparent;">
            <img class="submit-icon" src="/images/addUniform.gif">
          </button>
        </form>
      </div>

      <div class="form-Searchgroup">
        <img class="vendorIcon" src="/images/search.gif" alt="Search Icon">
        <input type="text" class="form-control" id="uniformsearchField" name="bookSearch"
          oninput="searchUniformDetails()" placeholder=" " />
        <span class="form-control-placeholder">Enter Uniform Item...</span>
        <button id="refreshvendorbutton" onclick="refreshUniformsData()">
          <img src="/images/refresh.png" alt="Refresh Icon" style="width: 25px; height: 25px; margin-right: 2px;">
          Refresh</button>
      </div>

      <!-- Uniform Table -->
      <div class="table-container">
        <table id="uniformTable">
          <thead>
            <tr>
              <th>Uniform Item</th>
              <th>Size</th>
              <th>Purchase Price</th>
              <th>Selling Price</th>
              <th>Vendor</th>
              <th>Ordered Quantity</th>
              <th>Remaining Quantity</th>
              <th>Returned Quantity</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="uniformTableBody">
            <!-- Table rows will be populated dynamically -->
          </tbody>
        </table>
      </div>
    </div>
  </div>


  <!-- Purchase Report Overlay  -->
  <div id="purchaseReportsOverlay" class="overlay purchase-reports">
    <div class="overlay-content">
      <div class="icon-container">
        <i><img class="topicon" src="/images/purchaseReport.png" alt=""></i>
        <h2 class="overlay-head">Purchase Report</h2>
      </div>
      <div class="close-icon" id="closeOverlayButton" onclick="closeOverlay(event)">×</div>

      <div class="horizontal-container">
        <button id="vendorSummary" class="horizontal-form-group" type="submit"
          style="border-style: none; background-color: transparent;">
          <img class="icon" src="/images/vendorSummary.gif">
          <h3>Vendor Summary</h3>
        </button>
        <div class="form-group ">
          <select id="vendorDetails" class="custom-dropdown horizontal-dropdown " style="margin-top: 1rem;">
            <option value="">
              <h3 style="font-weight: bold;">Vendor Details</h3>
            </option>
            <!-- Vendor options will be populated here -->
          </select>
        </div>
        <button id="profitLoss" class="horizontal-form-group" type="submit"
          style="border-style: none; background-color: transparent;">
          <img class="icon" src="/images/profitLoss.gif">
          <h3>Profit/Loss</h3>
        </button>
        <button id="exportButton">
          <img src="/images/export.png" alt="Export Icon" style="width: 25px; height: 25px;"> Export
        </button>
        <!-- <button id="exportButton" class="form-group" type="submit"
          style="border-style: none; background-color: transparent;">
          <img class="icon" src="/images/exportButton.gif">
          <h3>Export Table</h3>
        </button> -->
        <!--<button id="refreshvendorbutton" class="form-group" onclick="refreshAllTables()">
          <img src="/images/refresh.png" alt="Refresh Icon" style="width: 25px; height: 25px; margin-right: 2px;">
          Refresh</button>>-->
      </div>

      <div id="table-container">
        <div id="loadingOverlayReport" class="loading-overlay">
          <div>
            <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
              type="module"></script>

            <dotlottie-player src="https://lottie.host/7319098f-7e9e-40eb-8ffe-6c22f55e9d70/qNoQ09vbMn.json"
              background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></dotlottie-player>
          </div>
        </div>
        <div id="emptyMessage" class="empty-message ">
          <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs"
            type="module"></script>
          <dotlottie-player src="https://lottie.host/5d6fe6dc-d344-4b95-a6b4-17a5e01b88c8/2DhrGZVFGN.json"
            background="transparent" speed="1" style="width: 600px; height: 450px;" loop autoplay></dotlottie-player>
        </div>
      </div> <!-- Container to display the table -->
    </div>
  </div>




  </div>
  <!-- <script src="/js/Main_Dashboard/main_dashboard.js"></script> -->
  <script src="/js/Inventory_js/Inventory_addVendor.js"></script>
  <script src="/js/Inventory_js/Inventory_addBooks.js"></script>
  <script src="/js/Inventory_js/Inventory_addUniform.js"></script>
  <script src="/js/Inventory_js/Inventory_purchasereports.js"></script>
  <script src="/js/Inventory_js/All.js"></script>
</body>

</html>