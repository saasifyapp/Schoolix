<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Page</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/Inventory_Css/InventoryAll.css">
    <link rel="stylesheet" href="/css/Inventory_Css/GenerateInvoice.css">
    <link rel="stylesheet" href="/css/NavButtons.css">
    <link rel="stylesheet" href="/css/Inventory_Css/invoiceDisplay.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">



    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

</head>

<body>
    <div class="container-fluid">
        <div id="loadingOverlayInventory" class="loading-overlay">
            <div class="typewriter">
                <div class="slide"><i></i></div>
                <div class="paper"></div>
                <div class="keyboard"></div>
            </div>
        </div>

        <nav class="navbar">
            <div class="logo_item">
                <!-- <i class="bx bx-menu" id="sidebarOpen"></i> -->
                <img id="logo" src="" alt="Logo">
                <!-- <div class="user_name" id="user_name"></div> -->
            </div>

            <div class="navbar_center" style="margin-left: 5.5rem;">
                <button onclick="window.location.href='/inventory/billing'"> <i class='bx' id="backButton"> <img
                            src="/images/back.png" alt="Previous Icon"></i></button>
                <button onclick="window.location.href='/dashboard'"><i class='bx' id="homeButton"> <img
                            src="/images/homeicon.png" alt="Dashboard Icon"></i></button>
                <button id="logoutButton"> <i class='bx' id="signoutButton"> <img src="/images/logout.png"
                            alt="Signout Icon"></i></button>
            </div>

            <div class="navbar_content">
                <!-- <i class="bi bi-grid"></i>
          <i class='bx bx-bell'></i> -->
            </div>
        </nav>

        <div class="" style="margin-top:3rem; display: flex; height: 80%;">
            <!-- First Container -->
            <div class="first">
                <div class="section" style="border-style: none;">
                    <div class="row">
                        <!-- Buyer Details -->
                        <div class="col-md-7">
                            <div class="section buyer-details">
                                <h5>Buyer Details</h5>
                                <div class="form-container">
                                    <form>
                                        <div class="form-row">
                                            <div class="form-group col-md-5">
                                                <input type="text" class="form-control " id="buyerName" name="buyerName"
                                                    placeholder=" " required>
                                                <span class="form-control-placeholder">Name</span>
                                            </div>

                                            <div class="form-group col-md-4">
                                                <input type="" class="form-control" id="buyerMobile" placeholder=""
                                                    maxlength="10"><span class="form-control-placeholder">Mobile</span>

                                            </div>
                                            <div class="form-group col-md-3">
                                                <input type="text" class="form-control" id="buyerClass"
                                                    placeholder="Class" readonly>
                                                <span class="form-control-placeholder">Class</span>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <!-- Invoice No and Date -->
                        <div class="" style="width: 40%;">
                            <div class="section invoice-details">
                                <h5>Invoice Details</h5>
                                <form>
                                    <div class="form-row" style="justify-content: center;">
                                        <div class="form-group">
                                            <label for="invoiceNo" style="margin-top: 3px;">Invoice No &#8594;</label>
                                            <input id="invoiceNo" style="border: none; width: 5rem; margin-left: 1rem;">
                                            <!-- arrow character -->
                                        </div>
                                        <div class="form-group ">
                                            <label for="invoiceDate">Date &#8594; </label>
                                            <input id="invoiceDate"
                                                style="border: none; width: 14rem; margin-left: 1rem;">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <!-- Display Books -->
                        <div class="" style="width: 45%; margin-left: 1rem;">
                            <div class="section books">
                                <h5>Display Books</h5>
                                <div class="table-container">
                                    <table class="table table-bordered" id="booksTable">
                                        <thead>
                                            <tr>
                                                <th>Title</th>
                                                <th>Quantity</th>
                                                <th>Unit Price</th>
                                                <th>Price</th>
                                            </tr>
                                        </thead>
                                        <tbody id="booksTableBody">
                                            <!-- Book entries go here -->
                                        </tbody>
                                    </table>
                                </div>


                            </div>
                        </div>
                        <!-- Display Uniform -->
                        <div class="" style="width: 50%; margin-left: 1rem;">
                            <div class="section uniform">
                                <h5>Display Uniform</h5>
                                <div class="table-container">
                                    <table class="table table-bordered" id="uniformsTable">
                                        <thead>
                                            <tr>
                                                <th class="uniform-item">Item</th>
                                                <th class="uniform-size">Size</th>
                                                <th class="uniform-quantity">Quantity</th>
                                                <th class="uniform-price">Unit Price</th>
                                                <th class="uniform-price">Price</th>
                                            </tr>
                                        </thead>
                                        <tbody id="uniformsTableBody">
                                            <!-- Uniform entries go here -->
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="bottom-container" style="margin-top: -1.3rem;">

                        <div class="row">
                            <!-- Invoice Summary -->

                            <div class="section " style="width: 58%; ">
                                <h5>Invoice Summary</h5>
                                <div class="form-container">
                                    <div class="form-row">
                                        <div class="form-group col-md-3">
                                            <input type="text" class="form-control" id="totalAmount" placeholder=""
                                                readonly>
                                            <span class="form-control-placeholder">Total</span>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <input type="number" class="form-control" id="amountPaid" placeholder="">
                                            <span class="form-control-placeholder">Paid</span>
                                        </div>
                                        <div class="form-group col-md-2" style="min-width: 5rem;">  
                                            <input type="text" class="form-control" id="balanceAmount" placeholder=""  style="width: auto; min-width: 5rem;"
                                                readonly>
                                            <span class="form-control-placeholder">Balance</span>
                                        </div>
                                        <div class="col-md-4" style="margin-bottom: 1rem;">
                                            <label>Payment Method:</label><br>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="paymentMethod"
                                                    id="cashPayment" value="CASH">
                                                <label class="form-check-label" for="cashPayment">Cash</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="paymentMethod"
                                                    id="upiPayment" value="UPI">
                                                <label class="form-check-label" for="upiPayment">UPI</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!-- Control Panel -->

                            <div class="section control-panel" style="margin-left: 0.8rem; height: 110px;">
                                <h5>Control Panel</h5>
                                <div class="control-button-container">
                                    <button id="generateButton" class="control-button">
                                        <img src="/images/generateinvoice.gif" alt="Refresh Icon" style="width: 30px; height: 30px;">
                                        Generate
                                    </button>
                                    
                                    <button id="printButton_Test" class="control-button" onclick="printInvoice()">
                                        <img src="/images/printer.gif" alt="Refresh Icon"
                                            style="width: 30px; height: 30px;">
                                        Print
                                    </button>
                                    <button id="resetButton" class="control-button">
                                        <img src="/images/reload.gif" alt="Refresh Icon"
                                            style="width: 30px; height: 30px;">
                                        Reset
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>





            <!-- Second Container -->
            <div class="bill-container" style="height: 100%;" id="printableContainer">
                <!-- Initial image display -->
                <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
                <dotlottie-player src="https://lottie.host/97f9d044-7f3e-4e77-8876-9e50bf6f91a9/ABiWgVQcNd.json" background="transparent" speed="1" style="width: 500px; height: 600px;" loop autoplay></dotlottie-player>
            
                <!-- Invoice details section -->
                <div class="section bill" id="invoiceDetails" style="display: none;">
                    <h5>Display Bill</h5>
                    <div class="table-container" style="width: 100%; overflow-x: auto;">
                        <section id="invoice">
                            <div class="container" style="width: 100%;">
                                <div class="container">
                                    <!-- Invoice Header Section -->
                                    <div class="invoice-header">
                                        <div class="invoice-title">
                                            <h1>INVOICE</h1>
                                            <p id="invoiceNumberDisplay">Invoice No: #1234567890</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-md-flex justify-content-between" style="display: flex; justify-content: space-between;">
                                    <div class="buyer-details">
                                        <p>Invoice To</p> <!-- "Invoice To" centered and bold -->
                                        <ul class="list-unstyled buyer-details-list">
                                            <li><!-- Buyer Class here --></li>
                                            <li><!-- Buyer Phone here --></li>
                                            <li><!-- Buyer Phone here --></li>
                                        </ul>
                                    </div>
                                    <div class="mt-5 mt-md-0 invoice-details">
                                        <ul class="list-unstyled invoice-details-list">
                                            <li class="item">
                                                <span class="label">Date:</span>
                                                <span class="value">02/10/1999</span>
                                            </li>
                                            <li class="item">
                                                <span class="label">Status:</span>
                                                <span class="value">Paid</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                
                                <!-- Table for displaying bill items -->
                                <table class="invoice_table border my-5" style="width: 100%; border: 1px solid #dee2e6; margin: 2rem 0;">
                                    <thead>
                                        <tr class="bg-primary-subtle" style="background-color: #e9ecef;">
                                            <th scope="col" style="width: 10%; padding: 8px;">No.</th>
                                            <th scope="col" style="padding: 8px;">Item</th>
                                            <th scope="col" style="padding: 8px;">Price</th>
                                            <th scope="col" style="padding: 8px;">Quantity</th>
                                            <th scope="col" style="padding: 8px;">Total</th>
                                        </tr>
                                    </thead>
                                    <tbody id="billTableBody">
                                        <!-- Bill items will be dynamically inserted here -->
                                    </tbody>
                
                                    <tr class="bg-primary-subtle rounded-top">
                                        <td colspan="4" style="text-align: right; font-weight: bold; padding: 8px;"> <!-- No background color here -->
                                            <i class="fas fa-dollar-sign" style="margin-right: 5px;"></i> Total:
                                        </td>
                                        <td id="totalAmountDisplay" style="text-align: right; font-weight: bold; padding: 8px; background-color: #3a3c3d; color: white;">0.00</td>
                                    </tr>
                                    <tr class="bg-primary-subtle">
                                        <td colspan="4" style="text-align: right; font-weight: bold; padding: 8px;"> <!-- No background color here -->
                                            <i class="fas fa-money-bill-alt" style="margin-right: 5px;"></i> Paid:
                                        </td>
                                        <td id="amountPaidDisplay" style="text-align: right; font-weight: bold; padding: 8px; background-color: #3a3c3d; color: white;">0.00</td>
                                    </tr>
                                    <tr class="bg-primary-subtle rounded-bottom">
                                        <td colspan="4" style="text-align: right; font-weight: bold; padding: 8px;"> <!-- No background color here -->
                                            <i class="fas fa-balance-scale" style="margin-right: 5px;"></i> Balance:
                                        </td>
                                        <td id="balanceAmountDisplay" style="text-align: right; font-weight: bold; padding: 8px; background-color: #3a3c3d; color: white;">0.00</td>
                                    </tr>
                                </table>
                            </div>
                        </section>
                    </div>
                </div>
            

            <!-- Third Container -->
            <div class="row" style="margin-top: 9rem;">

            </div>

            <div id="toast-container" class="toast-container">
                <div id="toast" class="toast"></div>
            </div>




            <!-- <div id="toast" class="toast"></div> -->

            <!-- Custom Low Stock Alert Modal -->
            <div id="lowStockAlert" class="modal">
                <div class="modal-content">
                    <h2>Low Stock Alert</h2>
                    <div class="stock-container">
                        <div id="bookStock" class="stock-column">
                            <h3>Books</h3>
                            <p id="lowStockMessagesBooks"></p>
                            <p id="insufficientBooksMessages" class="insufficient"></p>
                        </div>
                        <div id="uniformStock" class="stock-column">
                            <h3>Uniforms</h3>
                            <p id="lowStockMessagesUniforms"></p>
                            <p id="insufficientUniformsMessages" class="insufficient"></p>
                        </div>
                    </div>
                    <div class="button-container">
                        <button id="proceedBtn" class="modal-btn">
                            <img src="/images/conform.png" alt="Proceed">
                            <span>Proceed</span>
                        </button>

                        <button id="closeBtn" class="modal-btn">
                            <img src="/images/close.png" alt="Close">
                            <span>Close</span>
                        </button>
                    </div>
                </div>
            </div>

        </div>
        <script src="/js/Inventory_js/All.js"></script>
        <script src="/js/Inventory_js/Inventory_generateInvoice.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"></script>
        <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>

</body>

</html>